{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Map.svelte"
  ],
  "sourcesContent": [
    "\n<script>\n\timport Map from './Map.svelte';\n\timport MapMarker from './MapMarker.svelte';\n\timport {onMount} from 'svelte'\n\timport { writable } from 'svelte/store'\n\n\t//using a writable store to hold our data\n\tlet businesses = writable([]);\n\tlet craving = writable(\"\");\n\tlet lat = 0;\n\tlet long = 0;\n\tconst length = writable(0);\n\n\tonMount(() => {\n\t\tgetLocation();\n\t})\n\tfunction getLocation()\n\t{\n\t\tif (navigator.geolocation) {\n\t\t\tnavigator.geolocation.getCurrentPosition(setLocation);\n\t\t} else {\n\t\t\talert(\"Geolocation is not supported by this browser.\");\n\t\t}\n\t}\n\n\tfunction setLocation(position)\n\t{\n\t\tlat = position.coords.latitude;\n\t\tlong = position.coords.longitude;\n\t}\n\t\n \tfunction restAsk(){\n\t\tfetch('https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=' + $craving + '&latitude=' + lat + '&longitude=' + long + '&sort_by=distance', {\n\t\t\theaders: {\n\t\t\t\t\"Authorization\": \"Bearer LiGV8vc0W0UyHl3bCiywBSyowbmik2x0NnW2sAk7cD3UL7hjt2Njv5tCyIPDK0fXUKJfLdJ8Skw-jdyUqRM-oPBdyPIlGYngBhugVVZU9UNks_ARjx3KJPwMASlSXnYx\"\n\t\t\t}\n\t\t})\n\t\t\t.then((response) => {\n\t\t\t\treturn response.json();\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.error(error)\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tconsole.log(data);\n\t\t\t\tbusinesses.set(data.businesses);\n\t\t\t\tlength.set(1);\n\t\t\t});\n\t}\n\tconst mileConversion = i => `<h1>${(i*0.000621371192).toFixed(1)} mi</h1>`;\n\tconst priceCon = p => `<h1>${p}</h1>`;\n\tconst ratingCon = r => `<h1>${r}</h1>`;\n\tconst addressCon = a => `<h2>${a}</h2>`;\n\n</script>\n\n\n<style>\n\th1, h2, p {\n\t\ttext-align: center;\n\t\tmargin: 0 auto;\n\t}\n\n\th1 {\n\t\tfont-size: 1em;\n\t\tfont-weight: 500;\n\t\tmargin: 0 0 0.5em 0;\n\t}\n\n\timg {\n\t\twidth: 100%;\n\t\tmax-width: 400px;\n\t\tmargin: 0 0 1em 0;\n\t}\n\n\tp {\n\t\tmargin: 1em auto;\n\t}\n\n\t@media (min-width: 480px) {\n\t\th1 {\n\t\t\tfont-size: 4em;\n\t\t}\n\t}\n\n\t.business{\n\t\tborder: 1px solid #ddd;\n\t\tborder-radius: 1em;\n\t\tmargin: 2em 1em;\n\t\tbox-sizing: content-box;\n\t\tpadding: 1em 2em;\n\t}\n\t\n\t.business img{\n\t\theight: 2em;\n\t\tmargin-right: 1em;\n\t\tvertical-align: middle;\n\t}\n\t\n\tspan {\n\t\tbackground-color: #eee;\n\t\tpadding: 1em 2em;\n\t\tmargin: 1em 0;\n\t\tmargin-right: 1em;\n\t\tdisplay: inline-block;\n\t\tborder-radius: 10em;\n\t\tfont-weight: 500;\n\t\tfont-size: medium;\n\t\ttext-align: center;\n\t}\n\t\n\t.center{\n\t\ttext-align: center;\n\t}\n\n\t.textbox{\n\t\theight:30px;\n\t\twidth:300px;\n    \tfont-size:14pt;\n\t\ttext-align: center;\n\t}\n\n\t.submitbutton\n\t{\n\t\theight:50px;\n\t\twidth:200px;\n\t}\n</style>\n\n<svelte:head>\n\t<title>MoodForFood.com</title>\n</svelte:head>\n\n\n<h1>What are you in the mood for?</h1>\n\n<p><strong>\n\t<input required type =\"text\" id=\"craving\" bind:value={$craving} class =\"textbox\"><br>\n\t<br>\n\t<button on:click={restAsk} type=\"button\" class=\"submitbutton\">Find Restaurants!</button>\n</strong></p>\n\n\n{#each $businesses as business}\n\t<div class = \"business\">\n\t\t<h2>\n\t\t\t{#if business.url && business.image_url}\n\t\t\t\t<img src={business.image_url} style=\"width:150px;height:150px;\" align=\"middle\" alt=\"Image of {business.name}\" />\n\t\t\t{/if}\n\t\t\t<br><a href={business.url}>{business.name}</a><br>\n\t\t</h2>\n\t\t<div class= \"center\">\n\t\t\t<span>\n\t\t\t\t{#if business.price}\n\t\t\t\t\tPrice: {@html priceCon(business.price)}\n\t\t\t\t{:else}\n\t\t\t\t\tPrice: {@html priceCon(\"N/A\")}\n\t\t\t\t{/if}\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t{#if business.rating}\n\t\t\t\t\tRating: {@html ratingCon(business.rating)}\n\t\t\t\t{:else}\n\t\t\t\t\tRating: {@html ratingCon(\"N/A\")}\n\t\t\t\t{/if}\n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\tDistance: {@html mileConversion(business.distance)} \n\t\t\t</span>\n\t\t\t<span>\n\t\t\t\t{#if business.location.address1}\n\t\t\t\t\tAddress: {@html addressCon(business.location.address1 + \" \" + business.location.city + \", \" + business.location.state + \" \" + business.location.zip_code)}\n\t\t\t\t{:else}\n\t\t\t\t\tAddress: {@html addressCon(\"Not listed - please check link\")}\n\t\t\t\t{/if}\n\t\t\t</span>\n\t\t</div>\n\t</div>\n{/each}\n\n{#if $length != 0}\n\t<h1 class=\"center\">Map:</h1>\n\t<Map lat={lat} lon={long} zoom={15} align=center class=\"center\">\n\t\t<MapMarker lat={lat} lon={long} label={\"Current Location\"}/>\n\t\t{#each $businesses as business}\n\t\t\t<MapMarker lat={business.coordinates.latitude} lon={business.coordinates.longitude} label={business.name}/>\n\t\t{/each}\n\t</Map>\n{/if}\n\n",
    "<script>\r\n\timport { onMount, setContext } from 'svelte';\r\n\timport { mapbox, key } from './mapbox.js';\r\n\r\n\tsetContext(key, {getMap: () => map});\r\n\r\n\r\n\texport let lat;\r\n\texport let lon;\r\n\texport let zoom;\r\n\r\n\tlet container;\r\n\tlet map;\r\n\r\n\tonMount(() => {\r\n\t\tconst link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.href = 'https://unpkg.com/mapbox-gl/dist/mapbox-gl.css';\r\n\r\n\t\tlink.onload = () => {\r\n\t\t\tmap = new mapbox.Map({\r\n\t\t\t\tcontainer,\r\n\t\t\t\tstyle: 'mapbox://styles/mapbox/streets-v11',\r\n\t\t\t\tcenter: [lon, lat],\r\n\t\t\t\tzoom\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tdocument.head.appendChild(link);\r\n\r\n\t\treturn () => {\r\n\t\t\tmap.remove();\r\n\t\t\tlink.parentNode.removeChild(link);\r\n\t\t};\r\n\t});\r\n</script>\r\n\r\n<style>\r\n\tdiv {\r\n\t\twidth: 50%;\r\n\t\theight: 50%;\r\n\t\tmargin:0 auto;\r\n\t}\r\n</style>\r\n\r\n<div bind:this={container}>\r\n\t{#if map}\r\n\t\t<slot></slot>\r\n\t{/if}\r\n</div>"
  ],
  "names": [],
  "mappings": "AA2DC,gCAAE,CAAE,gCAAE,CAAE,CAAC,8BAAC,CAAC,AACV,UAAU,CAAE,MAAM,CAClB,MAAM,CAAE,CAAC,CAAC,IAAI,AACf,CAAC,AAED,EAAE,8BAAC,CAAC,AACH,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,AACpB,CAAC,AAED,GAAG,8BAAC,CAAC,AACJ,KAAK,CAAE,IAAI,CACX,SAAS,CAAE,KAAK,CAChB,MAAM,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,AAClB,CAAC,AAED,CAAC,8BAAC,CAAC,AACF,MAAM,CAAE,GAAG,CAAC,IAAI,AACjB,CAAC,AAED,MAAM,AAAC,YAAY,KAAK,CAAC,AAAC,CAAC,AAC1B,EAAE,8BAAC,CAAC,AACH,SAAS,CAAE,GAAG,AACf,CAAC,AACF,CAAC,AAED,uCAAS,CAAC,AACT,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,aAAa,CAAE,GAAG,CAClB,MAAM,CAAE,GAAG,CAAC,GAAG,CACf,UAAU,CAAE,WAAW,CACvB,OAAO,CAAE,GAAG,CAAC,GAAG,AACjB,CAAC,AAED,wBAAS,CAAC,kBAAG,CAAC,AACb,MAAM,CAAE,GAAG,CACX,YAAY,CAAE,GAAG,CACjB,cAAc,CAAE,MAAM,AACvB,CAAC,AAED,IAAI,8BAAC,CAAC,AACL,gBAAgB,CAAE,IAAI,CACtB,OAAO,CAAE,GAAG,CAAC,GAAG,CAChB,MAAM,CAAE,GAAG,CAAC,CAAC,CACb,YAAY,CAAE,GAAG,CACjB,OAAO,CAAE,YAAY,CACrB,aAAa,CAAE,IAAI,CACnB,WAAW,CAAE,GAAG,CAChB,SAAS,CAAE,MAAM,CACjB,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,qCAAO,CAAC,AACP,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,sCAAQ,CAAC,AACR,OAAO,IAAI,CACX,MAAM,KAAK,CACR,UAAU,IAAI,CACjB,UAAU,CAAE,MAAM,AACnB,CAAC,AAED,aAAa,8BACb,CAAC,AACA,OAAO,IAAI,CACX,MAAM,KAAK,AACZ,CAAC;ACzFD,GAAG,eAAC,CAAC,AACJ,KAAK,CAAE,GAAG,CACV,MAAM,CAAE,GAAG,CACX,OAAO,CAAC,CAAC,IAAI,AACd,CAAC"
}